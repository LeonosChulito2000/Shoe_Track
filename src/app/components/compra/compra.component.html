<div class="Background formulario-centro ">
  <div class="resaltado ">
    <label class="campo-label">Correo:</label>
<br>
    <input class="campo-input" [(ngModel)]="correoInput" name="correoInput" />
    <br>
  
    <button class="boton" (click)="buscarUsuario()">Buscar</button>
  </div>

  <div *ngIf="mostrarFormulario" style="margin-top: 20px;">
    <p class="resaltado resaltado32">¡{{ mensaje }}!</p>
    <br>
    <form (submit)="onSubmit()" #formCompra="ngForm" class="" >

      <div *ngIf="usuarioExiste" class="resaltado ">
        <label>Nombre completo:</label>
        <p>{{ nombreCompleto }}</p>
      </div>

            <!-- Mostrar campos de nombre solo si el usuario es nuevo -->
            <div *ngIf="!usuarioExiste" class="resaltado">
              <label>Nombre completo:</label>
              <br />
              <input class="campo-input" type="text" [(ngModel)]="datosUsuario.nombres" name="nombres" placeholder="Tu nombre" required />
              <br />
              <input class="campo-input" type="text" [(ngModel)]="datosUsuario.apellido_paterno" name="apellido_paterno" placeholder="Apellido Paterno" required />
              <br />
              <input class="campo-input" type="text" [(ngModel)]="datosUsuario.apellido_materno" name="apellido_materno" placeholder="Apellido Materno" required />
            </div>
      
      <br>

      <div class="resaltado ">
        <label>Fecha Registro:</label>
        <br>
        <input class="campo-input" type="text" [(ngModel)]="datosUsuario.fecha_registro" name="fecha_registro" disabled />
      </div>
            
      <br>
      
      <div class="resaltado">
        <label>Teléfono:</label>
        <br>
        <input  class="campo-input" type="text" [(ngModel)]="datosUsuario.telefono" name="telefono" required />
      </div>
            
      <br>
      
      <div class="resaltado">
        <label>Dirección de Envío:</label><br>
        <textarea
          class="campo-input campoestira"
          [(ngModel)]="datosUsuario.direccion_envio"
          name="direccion_envio"
          required
          #direccionEnvio
          (input)="autoAjustarAltura(direccionEnvio)">
        </textarea>
      </div>
      
            
      <br>
      
      <div class="resaltado">
        <label>Correo:</label>
        <br>
        <input  class="campo-input" type="text" [(ngModel)]="datosUsuario.correo" name="correo" disabled />
      </div>
            
      <br>
      

            
      <br>
      <div class="botonCen">
        <button type="submit" class="boton resaltado2">
          {{ usuarioExiste && !hayCambios() ? 'Continuar' : 'Guardar y Continuar' }}
        </button>
  
      </div>
    </form>
  </div>
</div>
